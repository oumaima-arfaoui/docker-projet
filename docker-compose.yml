version: "3.7"
services:
  ################################ FRONTEND ####################################
  angular: 
    container_name: docker_angular
    image: frontimage
    build: 
      context: ./AgenceDeVoyage
      dockerfile: Dockerfile
    ports:
      - '4200:4200'
  ################################ BACKEND ####################################
  express:
    image: backimage
    build:
      context: ./back
      dockerfile: Dockerfile
    environment:
        - HOST=mysql
        - USER=root
        - PASSWORD=root
        - DB=Agence_de_voyage
        - DIALECT=mysql
        - PORT=3306
    ports:
      - '5000:5000'
    depends_on:
      - mysql 

  ################################ DATABASE ####################################
  mysql:
    image: mysql:latest
    container_name: docker_mysql
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=Agence_de_voyage
    ports:
    - '3306:3306'
    


 